---
apiVersion: v1
kind: ConfigMap
metadata:
  name: ecommerce-config
  namespace: ecommerce-demo
  labels:
    app: ecommerce-platform
data:
  # Coralogix Configuration
  CX_ENDPOINT: "https://ingress.eu2.coralogix.com:443"
  CX_APPLICATION_NAME: "ecommerce-platform"
  CX_SUBSYSTEM_NAME: "ecommerce-services"
  
  # OpenTelemetry Configuration  
  OTEL_EXPORTER_OTLP_ENDPOINT: "http://otel-collector.ecommerce-demo.svc.cluster.local:4317"
  
  # PostgreSQL Database Configuration
  POSTGRES_HOST: "postgresql-primary"
  POSTGRES_PORT: "5432"
  POSTGRES_DB: "ecommerce"
  POSTGRES_USER: "ecommerce_user"
  DB_HOST: "postgresql-primary"
  DB_PORT: "5432"
  DB_NAME: "ecommerce"
  DB_USER: "ecommerce_user"
  DB_MAX_CONNECTIONS: "100"
  
  # Redis Configuration
  REDIS_HOST: "redis"
  REDIS_PORT: "6379"
  
  # Service URLs (for inter-service communication)
  PRODUCT_CATALOG_URL: "http://product-catalog:8014"
  CHECKOUT_URL: "http://checkout:8016"
  CART_URL: "http://cart:8013"
  RECOMMENDATION_URL: "http://recommendation:8011"
  CURRENCY_URL: "http://currency:8018"
  SHIPPING_URL: "http://shipping:8019"
  AD_URL: "http://ad-service:8017"
  
  # Demo Mode
  DEMO_MODE: "normal"
  
  # Baseline Traffic Configuration
  BASELINE_ENABLED: "true"
  BASELINE_RPM: "100"
  BASELINE_ENDPOINT: "/products"
  
  # Demo Traffic Configuration
  DEMO_ENDPOINT: "/products/recommendations"
  DEMO_BASE_RPM: "800"
  DEMO_PEAK_RPM: "4200"
  DEMO_START_TIMESTAMP: ""
  DEMO_DURATION_MINUTES: "30"
  
  # Environment
  ENVIRONMENT: "production"
